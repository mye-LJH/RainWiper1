/*============================================================
 * ADC0832.h  --  ADC0832 串行8位A/D转换器驱动头文件
 *
 * 项目：基于STC89C52单片机的智能汽车雨刮器模拟系统
 * 作者：梁嘉惠  学号：3222004950
 * 学校：五邑大学 电子与信息工程学院  班级：220710
 * 指导教师：龙佳乐 副教授
 * 编译器：Keil C51  主频：11.0592MHz
 *============================================================
 * 硬件连接（STC89C52 <-> ADC0832 DIP-8）：
 *   P1.0  <->  Pin1 CS    (片选，低有效)
 *   P1.1  <->  Pin5 DI    (串行数据输入)
 *   P1.2  <->  Pin6 DO    (串行数据输出)
 *   P1.3  <->  Pin7 CLK   (时钟)
 *   5V    <->  Pin8 VCC/REF (并联100nF去耦电容到GND)
 *   GND   <->  Pin4 GND
 *   FC-37 AO  <->  Pin2 CH0 (雨量模拟信号0~5V)
 *   Pin3 CH1  悬空或接GND
 *============================================================*/

#ifndef __ADC0832_H__
#define __ADC0832_H__

#include <reg52.h>
#include <intrins.h>

/* ===== ADC0832引脚定义 ===== */
sbit ADC_CS  = P1^0;    /* 片选，低电平有效     */
sbit ADC_DI  = P1^1;    /* 数据输入（单片机→ADC）*/
sbit ADC_DO  = P1^2;    /* 数据输出（ADC→单片机）*/
sbit ADC_CLK = P1^3;    /* 时钟                  */

/* ===== 函数声明 ===== */
unsigned char ADC0832_Read_CH0(void);   /* 读取CH0通道（雨量传感器） */
unsigned char ADC0832_Filter(void);     /* 8次滑动平均滤波           */

#endif /* __ADC0832_H__ */
